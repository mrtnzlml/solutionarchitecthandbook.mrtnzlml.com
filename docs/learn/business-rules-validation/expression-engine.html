<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-learn/deprecated/business-rules-validation/expression-engine" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Business Rules Validation: Expression Engine | The Solution Architect&#x27;s Handbook</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://mrtnzlml.github.io/rossum-sa-handbook/img/og_image.png"><meta data-rh="true" name="twitter:image" content="https://mrtnzlml.github.io/rossum-sa-handbook/img/og_image.png"><meta data-rh="true" property="og:url" content="https://mrtnzlml.github.io/rossum-sa-handbook/docs/learn/business-rules-validation/expression-engine"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Business Rules Validation: Expression Engine | The Solution Architect&#x27;s Handbook"><meta data-rh="true" name="description" content="Rossum Expression Engine is responsible for validating expressions, producing either a true or false result. Its syntax closely resembles that of Python and allows for utilizing data from annotated documents. The engine assesses conditions and expressions using document data. Currently, it is employed for the Business Rules Validation extension, but there are plans to extend its usage to other extensions in the future. Engine operates at both the header field and line item levels, offering the flexibility to combine them within a single expression."><meta data-rh="true" property="og:description" content="Rossum Expression Engine is responsible for validating expressions, producing either a true or false result. Its syntax closely resembles that of Python and allows for utilizing data from annotated documents. The engine assesses conditions and expressions using document data. Currently, it is employed for the Business Rules Validation extension, but there are plans to extend its usage to other extensions in the future. Engine operates at both the header field and line item levels, offering the flexibility to combine them within a single expression."><link data-rh="true" rel="icon" href="/rossum-sa-handbook/img/128-blue-crunch.png"><link data-rh="true" rel="canonical" href="https://mrtnzlml.github.io/rossum-sa-handbook/docs/learn/business-rules-validation/expression-engine"><link data-rh="true" rel="alternate" href="https://mrtnzlml.github.io/rossum-sa-handbook/docs/learn/business-rules-validation/expression-engine" hreflang="en"><link data-rh="true" rel="alternate" href="https://mrtnzlml.github.io/rossum-sa-handbook/docs/learn/business-rules-validation/expression-engine" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://KUCN9RVGHJ-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Deprecated features","item":"https://mrtnzlml.github.io/rossum-sa-handbook/docs/learn/deprecated/"},{"@type":"ListItem","position":2,"name":"Business Rules Validation","item":"https://mrtnzlml.github.io/rossum-sa-handbook/docs/learn/business-rules-validation"},{"@type":"ListItem","position":3,"name":"Expression Engine","item":"https://mrtnzlml.github.io/rossum-sa-handbook/docs/learn/business-rules-validation/expression-engine"}]}</script><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-2DBTH3BGYK"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-2DBTH3BGYK",{})</script>



<link rel="search" type="application/opensearchdescription+xml" title="The Solution Architect&#39;s Handbook" href="/rossum-sa-handbook/opensearch.xml"><link rel="stylesheet" href="/rossum-sa-handbook/assets/css/styles.d36a8e49.css">
<script src="/rossum-sa-handbook/assets/js/runtime~main.b9588ef3.js" defer="defer"></script>
<script src="/rossum-sa-handbook/assets/js/main.10c89378.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><link rel="preload" as="image" href="/rossum-sa-handbook/img/128-blue-crunch.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="theme-announcement-bar announcementBar_mb4j" style="background-color:#e6a700" role="banner"><div class="content_knG7 announcementBarContent_xLdY">This is an unofficial documentation of the Rossum.ai platform. Are you looking for <a href="https://knowledge-base.rossum.ai/">https://knowledge-base.rossum.ai/</a>?</div></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/rossum-sa-handbook/"><div class="navbar__logo"><img src="/rossum-sa-handbook/img/128-blue-crunch.png" alt="Rossum.ai Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/rossum-sa-handbook/img/128-blue-crunch.png" alt="Rossum.ai Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">The Solution Architect&#x27;s Handbook</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/rossum-sa-handbook/docs/learn/ai-learning">Learn</a><a class="navbar__item navbar__link" href="/rossum-sa-handbook/docs/courses/basic-end-to-end-flow-with-rossum">Courses</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://elis.rossum.ai/api/docs/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">API<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><a href="https://rossum.ai/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Rossum.ai<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><a href="https://status.rossum.ai/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Status page<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rossum-sa-handbook/docs/learn/ai-learning">AI training best practices</a><button aria-label="Expand sidebar category &#x27;AI training best practices&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rossum-sa-handbook/docs/learn/automation">Automation</a><button aria-label="Expand sidebar category &#x27;Automation&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rossum-sa-handbook/docs/learn/coupa">Coupa</a><button aria-label="Expand sidebar category &#x27;Coupa&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/rossum-sa-handbook/docs/learn/distributive-webhook">Distributive webhook</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rossum-sa-handbook/docs/learn/duplicates-detection">Duplicates detection</a><button aria-label="Expand sidebar category &#x27;Duplicates detection&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rossum-sa-handbook/docs/learn/emails">Emails &amp; email ingestion</a><button aria-label="Expand sidebar category &#x27;Emails &amp; email ingestion&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rossum-sa-handbook/docs/learn/export-pipeline">Export pipelines</a><button aria-label="Expand sidebar category &#x27;Export pipelines&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rossum-sa-handbook/docs/learn/full-page-search">Full page search</a><button aria-label="Expand sidebar category &#x27;Full page search&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/rossum-sa-handbook/docs/learn/integration-patterns">Supported Integration Patterns</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/rossum-sa-handbook/docs/learn/json-templating">JSON Templating</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rossum-sa-handbook/docs/learn/line-items-grouping">Line items grouping</a><button aria-label="Expand sidebar category &#x27;Line items grouping&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rossum-sa-handbook/docs/learn/master-data-hub">Master data hub</a><button aria-label="Expand sidebar category &#x27;Master data hub&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rossum-sa-handbook/docs/learn/netsuite">NetSuite</a><button aria-label="Expand sidebar category &#x27;NetSuite&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rossum-sa-handbook/docs/learn/rossum-formulas">Rossum Formulas</a><button aria-label="Expand sidebar category &#x27;Rossum Formulas&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rossum-sa-handbook/docs/learn/sandboxes">Sandboxes</a><button aria-label="Expand sidebar category &#x27;Sandboxes&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rossum-sa-handbook/docs/learn/sftp-s3-import-export">SFTP and S3 imports/exports</a><button aria-label="Expand sidebar category &#x27;SFTP and S3 imports/exports&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rossum-sa-handbook/docs/learn/structured-formats-import">Structured formats import</a><button aria-label="Expand sidebar category &#x27;Structured formats import&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rossum-sa-handbook/docs/category/user-management">User management</a><button aria-label="Expand sidebar category &#x27;User management&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rossum-sa-handbook/docs/learn/workday">Workday</a><button aria-label="Expand sidebar category &#x27;Workday&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/rossum-sa-handbook/docs/learn/deprecated">Deprecated features</a><button aria-label="Collapse sidebar category &#x27;Deprecated features&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/rossum-sa-handbook/docs/learn/business-rules-validation">Business Rules Validation</a><button aria-label="Collapse sidebar category &#x27;Business Rules Validation&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rossum-sa-handbook/docs/learn/business-rules-validation/configuration-examples">Configuration examples</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/rossum-sa-handbook/docs/learn/business-rules-validation/expression-engine">Expression Engine</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/rossum-sa-handbook/docs/learn/find-replace-values">Find &amp; Replace Values</a><button aria-label="Expand sidebar category &#x27;Find &amp; Replace Values&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/rossum-sa-handbook/docs/learn/copy-paste-values">Copy &amp; Paste Values</a><button aria-label="Expand sidebar category &#x27;Copy &amp; Paste Values&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/rossum-sa-handbook/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/rossum-sa-handbook/docs/learn/deprecated"><span>Deprecated features</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/rossum-sa-handbook/docs/learn/business-rules-validation"><span>Business Rules Validation</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Expression Engine</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><div class="theme-admonition theme-admonition-danger admonition_xJq3 alert alert--danger"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>Deprecated</div><div class="admonitionContent_BuS1"><p>This feature is deprecated. It won&#x27;t receive any further updates and is likely to be completely removed in the future. Please consider using other available alternatives or contacting <a href="mailto:support@rossum.ai" target="_blank" rel="noopener noreferrer">support@rossum.ai</a> for further assistance.</p></div></div>
<header><h1>Expression Engine</h1></header>
<p>Rossum Expression Engine is responsible for validating expressions, producing either a true or false result. Its syntax closely resembles that of Python and allows for utilizing data from annotated documents. The engine assesses conditions and expressions using document data. Currently, it is employed for the Business Rules Validation extension, but there are plans to extend its usage to other extensions in the future. Engine operates at both the header field and line item levels, offering the flexibility to combine them within a single expression.</p>
<p>Examples:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{issue_date} &gt; &quot;2023-01-01&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{item_price} * {item_amount} == {item_total}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sum({item_total}) == {total_price}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="allowed-operators">Allowed operators<a href="#allowed-operators" class="hash-link" aria-label="Direct link to Allowed operators" title="Direct link to Allowed operators">​</a></h2>
<p>Engine supports basic mathematical and logical operators:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">+, -, /, //, *, %, and, or, xor, ==, !=, &lt;, &gt;, &lt;=, &gt;=</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="data-types">Data types<a href="#data-types" class="hash-link" aria-label="Direct link to Data types" title="Direct link to Data types">​</a></h2>
<p>The Expression Engine supports four data types: integer (int), floating-point number (float), string, and date. When performing automatic casting, the engine first attempts to cast the value as a float, followed by an integer, then a date, and finally as a string.</p>
<p>It is important to note that when dealing with dates, the format <code>YYYY-MM-DD</code> must be followed, including the quotation marks. Without the quotation marks, a value like 2023-12-24 would be evaluated as a mathematical subtraction resulting in the number 1987.</p>
<p>If you need to ensure a specific data type is used, you can manually cast the value using the following conversions. For whole numbers:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">int(&lt;value&gt;)</span><br></span></code></pre></div></div>
<p>For numbers with decimal digits:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">float(&lt;value&gt;)</span><br></span></code></pre></div></div>
<p>For dates:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">date(&lt;value&gt;)</span><br></span></code></pre></div></div>
<p>For text (this also serves as a catch-all type):</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">str(&lt;value&gt;)</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="empty-values">Empty values<a href="#empty-values" class="hash-link" aria-label="Direct link to Empty values" title="Direct link to Empty values">​</a></h2>
<p>There are two functions to check whether a document data point has a value or is empty. The first one returns <code>true</code> if the data point is not empty (<code>!=&#x27;&#x27;</code>):</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">has_value({data_point})</span><br></span></code></pre></div></div>
<p>The second one returns <code>true</code> if the data point is empty (<code>==&#x27;&#x27;</code>):</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">is_empty({empty_point})</span><br></span></code></pre></div></div>
<p>Important Note: Please be aware that using <code>==&#x27;&#x27;</code> and <code>!=&#x27;&#x27;</code> for comparison will not work.</p>
<p>The expression engine automatically avoids error messages during the annotation process by skipping all lines in a table that have empty values. Whenever there&#x27;s an empty value in the rule, it is skipped, including <code>==&#x27;&#x27;</code>.</p>
<p>For headers, the skip procedure works accordingly - because there&#x27;s only &quot;one&quot; line to skip, the whole rule is skipped.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="aggregation-function-and-empty-values">Aggregation function and empty values<a href="#aggregation-function-and-empty-values" class="hash-link" aria-label="Direct link to Aggregation function and empty values" title="Direct link to Aggregation function and empty values">​</a></h2>
<p>Table column with following values <code>[1,2,&quot;&quot;,2]</code>:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sum({item_amount})==5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sum({item_amount, default=0})==5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">unique_len({item_amount})==2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">len({item_amount})==3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">len(filter(({item_amount}),&quot;&quot;))==3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">len({item_amount, default=0})==4</span><br></span></code></pre></div></div>
<p>Table column with empty values <code>[&quot;&quot;,&quot;&quot;,&quot;&quot;]</code>:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sum({item_amount})==None</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">unique_len({item_amount})==None</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">len({item_amount})==None</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">len(filter(({item_amount}),&quot;&quot;))==None</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">len({item_amount, default=0})==3</span><br></span></code></pre></div></div>
<p>Not annotated table (defined in schema):</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sum({item_amount})==None</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sum({item_amount, default=0})==None</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">unique_len({item_amount})==None</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">len({item_amount})==None</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">len(filter(({item_amount}),&quot;&quot;))==None</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">len({item_amount, default=0})==None</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="allowed-functions">Allowed functions<a href="#allowed-functions" class="hash-link" aria-label="Direct link to Allowed functions" title="Direct link to Allowed functions">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aggregation-functions">Aggregation functions<a href="#aggregation-functions" class="hash-link" aria-label="Direct link to Aggregation functions" title="Direct link to Aggregation functions">​</a></h3>
<p>To compare header fields and line items or implement business rules based on line items, the following aggregation functions are at your disposal:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">all(&lt;expression&gt;) - all lines in the table must satisfy the business rule in order to pass</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">any(&lt;expression&gt;) - at least one line in the table must fulfill the business rule in order to pass</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sum(&lt;column&gt;) - summary of a table column (applicable to float and int, as well as string values that can be cast to float or int)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">min(&lt;column&gt;) - minimum value in a table column</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">max(&lt;column&gt;) - maximum value in a table column</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">len(&lt;column&gt;) - number of rows in the table (i.e., the length of the row list)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">unique_len(&lt;column&gt;) - number of unique values in a table column</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">first_value(&lt;column&gt;) - first value of a table column, often used in conjunction with a filter to exclude empty values first_value(filter(&lt;column&gt;,[&quot;&quot;,None]))</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="filter-function">Filter function<a href="#filter-function" class="hash-link" aria-label="Direct link to Filter function" title="Direct link to Filter function">​</a></h3>
<p>A filter function that removes all values in the second parameter:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">filter(&lt;value or column&gt;[, &lt;remove_value&gt;])</span><br></span></code></pre></div></div>
<p>Example:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">filter({item_price}, [0,None])</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="default-value-functions">Default value functions<a href="#default-value-functions" class="hash-link" aria-label="Direct link to Default value functions" title="Direct link to Default value functions">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{&lt;value or column&gt;, default=&lt;default_value&gt;} - basic default value function. Value extracted from the document cannot be used as a default value using this syntax.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{&lt;value or column&gt;, default=value(‘&lt;other_data_point&gt;’)} - with this setup you can use a data point as a default value.</span><br></span></code></pre></div></div>
<p>Example: <code>{vendor, default=&quot;Rossum&quot;}</code> or <code>value({item_delivery_date}, default={delivery_date})</code></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="date-functions">Date functions<a href="#date-functions" class="hash-link" aria-label="Direct link to Date functions" title="Direct link to Date functions">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">today() - today’s date, determined using Coordinated Universal Time (UTC), which is the standard time used in all Rossum solutions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">timedelta(&lt;shift&gt;) - adds a time delta in years, months and days.</span><br></span></code></pre></div></div>
<p>Example: <code>today() + timedelta(days=2) &gt; {due_date}</code></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="list-function">List function<a href="#list-function" class="hash-link" aria-label="Direct link to List function" title="Direct link to List function">​</a></h3>
<p>The following function returns <code>true</code> if the search element is found in the document value which is a table column.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">list_contains(&lt;value&gt;, &lt;search&gt;)</span><br></span></code></pre></div></div>
<p>Example:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">list_contains({item_description}, &quot;car&quot;)</span><br></span></code></pre></div></div>
<p>The function supports a list of values to be checked:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">list_contains(&lt;value&gt;, [&lt;search&gt;])</span><br></span></code></pre></div></div>
<p>Example:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">list_contains({item_description}, [&quot;car&quot;, &quot;bus&quot;]))</span><br></span></code></pre></div></div>
<p>Keep in mind that:</p>
<ul>
<li><code>contains</code> cannot be used for substring, please use regexp.</li>
<li><code>in</code> is not supported.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="string-functions">String functions<a href="#string-functions" class="hash-link" aria-label="Direct link to String functions" title="Direct link to String functions">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="substring"><code>substring</code><a href="#substring" class="hash-link" aria-label="Direct link to substring" title="Direct link to substring">​</a></h4>
<p>Returns <code>true</code> if the &quot;search&quot; substring is found in &quot;value&quot;. This function is case sensitive.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">substring(&lt;search&gt;, &lt;value&gt;)</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="regexp"><code>regexp</code><a href="#regexp" class="hash-link" aria-label="Direct link to regexp" title="Direct link to regexp">​</a></h4>
<p>Returns <code>true</code> if the regular expression has a non-empty match to the document value.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">regexp(&lt;regexp&gt;, &lt;value&gt;)</span><br></span></code></pre></div></div>
<p>Example:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">regexp(&quot;[Cc]ar$&quot;, {item_description})</span><br></span></code></pre></div></div>
<p>Optional parameters:</p>
<ul>
<li><code>ignore_case</code>: <code>regexp(&quot;rossum&quot;, {sender_name}, ignore_case=True)</code></li>
</ul>
<p>Please note that <code>re.search</code> is the underline function call and both parameters are cast to string.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="similarity"><code>similarity</code><a href="#similarity" class="hash-link" aria-label="Direct link to similarity" title="Direct link to similarity">​</a></h4>
<p>Returns the Levenshtein distance between the document value and the selected string.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">similarity(&lt;value&gt;,&lt;search&gt;)</span><br></span></code></pre></div></div>
<p>Example:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">similarity({item_description},&quot;Car&quot;) &gt; 2</span><br></span></code></pre></div></div>
<p>Please find more information about Levenshtein distance here: <a href="https://en.wikipedia.org/wiki/Levenshtein_distance" target="_blank" rel="noopener noreferrer">https://en.wikipedia.org/wiki/Levenshtein_distance</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="table-scope">Table scope<a href="#table-scope" class="hash-link" aria-label="Direct link to Table scope" title="Direct link to Table scope">​</a></h3>
<p>There is a limitation in the implementation where one rule can only work with one table. This limitation ensures that error messages can be shown on the correct lines of the table.</p>
<p>To perform tasks like checking the number of lines in the tables, you can use aggregation functions. However, the expression engine does not permit using data points in one rule. Instead, you need to define variables to work with the data points.</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;variables&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;len_first_table&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/mrtnzlml/rossum-sa-handbook/tree/master/docs/learn/deprecated/business-rules-validation/expression-engine.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/rossum-sa-handbook/docs/learn/business-rules-validation/configuration-examples"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Configuration examples</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/rossum-sa-handbook/docs/learn/find-replace-values"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Find &amp; Replace Values</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#allowed-operators" class="table-of-contents__link toc-highlight">Allowed operators</a></li><li><a href="#data-types" class="table-of-contents__link toc-highlight">Data types</a></li><li><a href="#empty-values" class="table-of-contents__link toc-highlight">Empty values</a></li><li><a href="#aggregation-function-and-empty-values" class="table-of-contents__link toc-highlight">Aggregation function and empty values</a></li><li><a href="#allowed-functions" class="table-of-contents__link toc-highlight">Allowed functions</a><ul><li><a href="#aggregation-functions" class="table-of-contents__link toc-highlight">Aggregation functions</a></li><li><a href="#filter-function" class="table-of-contents__link toc-highlight">Filter function</a></li><li><a href="#default-value-functions" class="table-of-contents__link toc-highlight">Default value functions</a></li><li><a href="#date-functions" class="table-of-contents__link toc-highlight">Date functions</a></li><li><a href="#list-function" class="table-of-contents__link toc-highlight">List function</a></li><li><a href="#string-functions" class="table-of-contents__link toc-highlight">String functions</a><ul><li><a href="#substring" class="table-of-contents__link toc-highlight"><code>substring</code></a></li><li><a href="#regexp" class="table-of-contents__link toc-highlight"><code>regexp</code></a></li><li><a href="#similarity" class="table-of-contents__link toc-highlight"><code>similarity</code></a></li></ul></li><li><a href="#table-scope" class="table-of-contents__link toc-highlight">Table scope</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">By @mrtnzlml with ❤️</div></div></div></footer></div>
</body>
</html>